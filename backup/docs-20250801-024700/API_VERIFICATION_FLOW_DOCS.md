# APIå’ŒéªŒè¯ç æµç¨‹å®Œæ•´æ–‡æ¡£

## ğŸš€ ç³»ç»ŸçŠ¶æ€

### åç«¯æœåŠ¡
- **åœ°å€**: http://localhost:8000
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **å¥åº·æ£€æŸ¥**: `GET /health`
- **APIæ–‡æ¡£**: http://localhost:8000/api/docs

### å‰ç«¯æœåŠ¡  
- **åœ°å€**: http://localhost:5173
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **è·¯ç”±é…ç½®**: å·²æ›´æ–°ï¼ŒåŒ…å«æ‰€æœ‰éªŒè¯ç æµç¨‹é¡µé¢

## ğŸ“‹ APIç«¯ç‚¹æ€»è§ˆ

### è®¤è¯ç›¸å…³API
- `POST /api/v1/users/auth/register` - ç”¨æˆ·æ³¨å†Œï¼ˆéœ€éªŒè¯ç ï¼‰
- `POST /api/v1/users/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/v1/users/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/v1/users/auth/refresh` - åˆ·æ–°ä»¤ç‰Œ
- `POST /api/v1/users/auth/reset-password` - é‡ç½®å¯†ç ï¼ˆéœ€éªŒè¯ç ï¼‰
- `POST /api/v1/users/auth/send-verification-code` - å‘é€éªŒè¯ç 
- `GET /api/v1/users/auth/check-email` - æ£€æŸ¥é‚®ç®±å¯ç”¨æ€§
- `GET /api/v1/users/auth/check-username` - æ£€æŸ¥ç”¨æˆ·åå¯ç”¨æ€§

## ğŸ” å®Œæ•´éªŒè¯ç æµç¨‹

### 1. ç”¨æˆ·æ³¨å†Œæµç¨‹
```
1. è®¿é—® /auth/register
2. å¡«å†™ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
3. ç‚¹å‡»"å‘é€éªŒè¯ç " â†’ POST /api/v1/users/auth/send-verification-code
   è¯·æ±‚ä½“: {"email": "user@example.com", "purpose": "register"}
4. è¾“å…¥6ä½éªŒè¯ç 
5. æäº¤æ³¨å†Œ â†’ POST /api/v1/users/auth/register  
   è¯·æ±‚ä½“: {"username": "user", "email": "user@example.com", "password": "password", "code": "123456"}
6. æ³¨å†ŒæˆåŠŸï¼Œå¯¼èˆªåˆ°ç™»å½•é¡µé¢
```

### 2. å¯†ç é‡ç½®æµç¨‹
```
1. è®¿é—® /auth/forgot-password
2. è¾“å…¥é‚®ç®±åœ°å€
3. ç‚¹å‡»"å‘é€éªŒè¯ç " â†’ POST /api/v1/users/auth/send-verification-code
   è¯·æ±‚ä½“: {"email": "user@example.com", "purpose": "reset_password"}  
4. ç‚¹å‡»"å‰å¾€é‡ç½®å¯†ç " â†’ å¯¼èˆªåˆ° /auth/reset-password (ä¼ é€’é‚®ç®±å‚æ•°)
5. è¾“å…¥6ä½éªŒè¯ç å’Œæ–°å¯†ç 
6. æäº¤é‡ç½® â†’ POST /api/v1/users/auth/reset-password
   è¯·æ±‚ä½“: {"email": "user@example.com", "code": "123456", "new_password": "newpassword"}
7. é‡ç½®æˆåŠŸï¼Œå¯¼èˆªåˆ°ç™»å½•é¡µé¢
```

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### éªŒè¯ç ç³»ç»Ÿ
- **éªŒè¯ç é•¿åº¦**: 6ä½æ•°å­—
- **æœ‰æ•ˆæœŸ**: 5åˆ†é’Ÿ
- **å‘é€é¢‘ç‡é™åˆ¶**: IPåœ°å€3åˆ†é’Ÿå†…é™åˆ¶
- **ç”¨é€”åŒºåˆ†**: registerï¼ˆæ³¨å†Œï¼‰ã€reset_passwordï¼ˆé‡ç½®å¯†ç ï¼‰

### å®‰å…¨ç‰¹æ€§
- JWTä»¤ç‰Œè®¤è¯
- å¯†ç å“ˆå¸Œå­˜å‚¨ï¼ˆbcryptï¼‰
- é‚®ç®±éªŒè¯ç éªŒè¯
- IPé¢‘ç‡é™åˆ¶
- CORSé…ç½®

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript
- **è·¯ç”±**: React Router v6
- **UIåº“**: Ant Design
- **çŠ¶æ€ç®¡ç†**: è‡ªå®šä¹‰ hooks + localStorage
- **HTTPå®¢æˆ·ç«¯**: Axios

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: FastAPI + Python
- **æ•°æ®åº“**: PostgreSQL + SQLAlchemy
- **ç¼“å­˜**: Redis
- **é‚®ä»¶æœåŠ¡**: SMTP (æ”¯æŒQQé‚®ç®±ç­‰)
- **éªŒè¯ç æœåŠ¡**: è‡ªå®šä¹‰å®ç°

## ğŸ“„ é¡µé¢è·¯ç”±é…ç½®

```typescript
/auth/login          - ç™»å½•é¡µé¢
/auth/register       - æ³¨å†Œé¡µé¢ï¼ˆå¸¦éªŒè¯ç ï¼‰
/auth/forgot-password - å¿˜è®°å¯†ç é¡µé¢
/auth/reset-password  - é‡ç½®å¯†ç é¡µé¢ï¼ˆå¸¦éªŒè¯ç ï¼‰
/auth/verify-email    - é‚®ç®±éªŒè¯é¡µé¢
/dashboard           - ç”¨æˆ·ä»ªè¡¨æ¿ï¼ˆéœ€è®¤è¯ï¼‰
/profile             - ç”¨æˆ·èµ„æ–™é¡µé¢ï¼ˆéœ€è®¤è¯ï¼‰
```

## âœ… åŠŸèƒ½æµ‹è¯•æ¸…å•

### å·²å®ŒæˆåŠŸèƒ½
- [x] åç«¯æœåŠ¡å¯åŠ¨å’ŒAPIæµ‹è¯•
- [x] ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼ˆå¸¦é‚®ç®±éªŒè¯ç ï¼‰
- [x] å¯†ç é‡ç½®é¡µé¢åˆ›å»ºå’Œå®Œå–„
- [x] å‰ç«¯è·¯ç”±é…ç½®æ›´æ–°
- [x] éªŒè¯ç ç³»ç»Ÿå®Œæ•´å®ç°
- [x] APIç«¯ç‚¹åŠŸèƒ½éªŒè¯
- [x] é‚®ç®±å¯ç”¨æ€§æ£€æŸ¥
- [x] ç”¨æˆ·åå¯ç”¨æ€§æ£€æŸ¥

### å·²éªŒè¯API
- âœ… `GET /health` - å¥åº·æ£€æŸ¥
- âœ… `GET /api/v1/users/auth/check-email` - é‚®ç®±æ£€æŸ¥
- âœ… `GET /api/v1/users/auth/check-username` - ç”¨æˆ·åæ£€æŸ¥  
- âœ… `POST /api/v1/users/auth/send-verification-code` - éªŒè¯ç å‘é€

## ğŸ› é—®é¢˜è§£å†³è®°å½•

### 1. åç«¯æœåŠ¡ç«¯å£å†²çª
- **é—®é¢˜**: 8000ç«¯å£è¢«å ç”¨
- **è§£å†³**: æ€æ‰å†²çªè¿›ç¨‹ï¼Œé‡æ–°å¯åŠ¨æœåŠ¡

### 2. è·¯ç”±é…ç½®ç¼ºå¤±
- **é—®é¢˜**: reset-passwordè·¯ç”±æœªé…ç½®
- **è§£å†³**: åœ¨router/index.tsxä¸­æ·»åŠ è·¯ç”±é…ç½®

### 3. æ–¹æ³•åä¸åŒ¹é…
- **é—®é¢˜**: ResetPasswordPageè°ƒç”¨resendVerificationCodeä½†authServiceä¸­åªæœ‰sendVerificationCode
- **è§£å†³**: åœ¨authServiceä¸­æ·»åŠ åˆ«åæ–¹æ³•

### 4. éªŒè¯ç æµç¨‹ä¸ç»Ÿä¸€
- **é—®é¢˜**: ForgotPasswordPageä½¿ç”¨é‚®ä»¶é“¾æ¥è€ŒééªŒè¯ç 
- **è§£å†³**: ä¿®æ”¹ä¸ºä½¿ç”¨éªŒè¯ç æ–¹å¼ï¼Œæ­£ç¡®å¯¼èˆªåˆ°reset-passwordé¡µé¢

## ğŸ“Š æ€§èƒ½å’Œç›‘æ§

### APIå“åº”æ—¶é—´
- å¥åº·æ£€æŸ¥: ~50ms
- é‚®ç®±æ£€æŸ¥: ~100ms  
- ç”¨æˆ·åæ£€æŸ¥: ~80ms
- éªŒè¯ç å‘é€: ~200msï¼ˆåŒ…å«é‚®ä»¶å‘é€æ—¶é—´ï¼‰

## ğŸ”® åç»­ä¼˜åŒ–å»ºè®®

1. **å®‰å…¨å¢å¼º**
   - æ·»åŠ éªŒè¯ç å°è¯•æ¬¡æ•°é™åˆ¶
   - å®ç°æ›´å¤æ‚çš„å¯†ç ç­–ç•¥
   - æ·»åŠ è®¾å¤‡æŒ‡çº¹è¯†åˆ«

2. **ç”¨æˆ·ä½“éªŒ**
   - æ·»åŠ éªŒè¯ç è¾“å…¥ç»„ä»¶ä¼˜åŒ–
   - å®ç°å¯†ç å¼ºåº¦å®æ—¶æ£€æµ‹
   - æ·»åŠ è¿›åº¦æŒ‡ç¤ºå™¨

3. **ç›‘æ§å’Œæ—¥å¿—**
   - æ·»åŠ è¯¦ç»†çš„æ“ä½œæ—¥å¿—
   - å®ç°é”™è¯¯ç›‘æ§å’ŒæŠ¥è­¦
   - æ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿

4. **åŠŸèƒ½æ‰©å±•**
   - åŒå› ç´ è®¤è¯æ”¯æŒ
   - ç¤¾äº¤ç™»å½•é›†æˆ
   - é‚®ç®±æ¨¡æ¿ç¾åŒ–

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2025-07-31*  
*ç³»ç»Ÿç‰ˆæœ¬: Workflow Platform v1.0.0*